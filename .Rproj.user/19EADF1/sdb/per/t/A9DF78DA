{
    "contents" : "require(plyr)\nrequire(reshape2)\n\n# read in data\ndat = read.delim(\"TotalCombinedDat.txt\")\n\n# split into spring and fall data\nspring = dat[dat$Term == \"spring\",]\nfall = dat[dat$Term == \"fall\",]\n\n# 1. Recreate fall analyses first (use log transformed data)\n\n# (1) Omnibus ANOVA (FaceRace x WordValence x Fix)\n#change format to do ANOVA\n#different line for each value (so each variable has a column specifying which level of that variable\n#the value is for)\nf.wide= melt(tapply(fall$logRT, INDEX=list(fall$Fix, fall$FaceRace, fall$WordValence, fall$Subno), \n                  FUN= mean))\n\nf.wide = rename(f.wide, c(\"Var1\" = \"Fix\", \"Var2\" = \"FaceRace\", \n                      \"Var3\" = \"WordValence\", \"Var4\" = \"Subno\", \"value\" = \"logRT.mean\"))\n\n#for within subjects ANOVAs, SUBJECT HAS TO BE A FACTOR\nf.wide$Subno = as.factor(f.wide$Subno)\n\n# create anova model\nint <- aov(logRT.mean ~ (Fix*FaceRace*WordValence)+Error(Subno/(Fix*FaceRace*WordValence)), data = f.wide)\nsummary(int)  #displays Type 1 ANOVA, will be different from Type 3 ANOVA when unbalanced design\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=F)\n\"ANOVA of fall data (5.1.2015)\"\n\"Code in Analysis_combinedDat.R\"\n\"Doesn't include two bad subjects or fast trials (<50 ms)\"\n\"Analysis done with log transformed RTs\"\n\"------------------------------------------------------------------\"\n\"OMNIBUS (FaceRace x WordValence x Fix)\"\nsummary(int)\nsink()\n\n# Specific contrasts\n# FaceRace x WordValence within eye condition\nf.wide.eyes = f.wide[f.wide$Fix == \"eyes\",]\n\nint.eyes <- aov(logRT.mean ~ (FaceRace*WordValence)+Error(Subno/(FaceRace*WordValence)), data = f.wide.eyes)\nsummary(int.eyes)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (FaceRace x WordValence with Eyes condition)\"\nsummary(int.eyes)\nsink()\n\n# FaceRace x WordValence within forehead condition\nf.wide.fore = f.wide[f.wide$Fix == \"forehead\",]\n\nint.fore <- aov(logRT.mean ~ (FaceRace*WordValence)+Error(Subno/(FaceRace*WordValence)), data = f.wide.fore)\nsummary(int.fore)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (FaceRace x WordValence with Forehead condition)\"\nsummary(int.fore)\nsink()\n\n# FaceRace x WordValence within nose condition\nf.wide.nose = f.wide[f.wide$Fix == \"nose\",]\n\nint.nose <- aov(logRT.mean ~ (FaceRace*WordValence)+Error(Subno/(FaceRace*WordValence)), data = f.wide.nose)\nsummary(int.nose)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (FaceRace x WordValence with Nose condition)\"\nsummary(int.nose)\nsink()\n\n\n # (2) Omnibus ANOVA (Congruent x Fix)\n#change format to do ANOVA\n#different line for each value (so each variable has a column specifying which level of that variable\n#the value is for)\nf.wide2= melt(tapply(fall$logRT, INDEX=list(fall$Fix, fall$Congruent, fall$Subno), \n                    FUN= mean))\n\nf.wide2 = rename(f.wide2, c(\"Var1\" = \"Fix\", \"Var2\" = \"Congruent\", \n                          \"Var3\" = \"Subno\", \"value\" = \"logRT.mean\"))\n\n#for within subjects ANOVAs, SUBJECT HAS TO BE A FACTOR\nf.wide2$Subno = as.factor(f.wide2$Subno)\n\n# create anova model\nint <- aov(logRT.mean ~ (Fix*Congruent)+Error(Subno/(Fix*Congruent)), data = f.wide2)\nsummary(int)  #displays Type 1 ANOVA, will be different from Type 3 ANOVA when unbalanced design\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"------------------------------------------------------------------\"\n\"OMNIBUS (Congruent x Fix)\"\nsummary(int)\nsink()\n\n\n# Specific contrasts\n# Congruence within eye condition\nf.wide2.eyes = f.wide2[f.wide2$Fix == \"eyes\",]\n\nint2.eyes <- aov(logRT.mean ~ (Congruent)+Error(Subno/(Congruent)), data = f.wide2.eyes)\nsummary(int2.eyes)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (Congruent within Eyes condition)\"\nsummary(int2.eyes)\nsink()\n\n# Congruence within forehead condition\nf.wide2.fore = f.wide2[f.wide2$Fix == \"forehead\",]\n\nint2.fore <- aov(logRT.mean ~ (Congruent)+Error(Subno/(Congruent)), data = f.wide2.fore)\nsummary(int2.fore)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (Congruent within Forehead condition)\"\nsummary(int2.fore)\nsink()\n\n# Congruence within nose condition\nf.wide2.nose = f.wide2[f.wide2$Fix == \"nose\",]\n\nint2.nose <- aov(logRT.mean ~ (Congruent)+Error(Subno/(Congruent)), data = f.wide2.nose)\nsummary(int2.nose)\n\nsink(\"FallANOVA_PrimingBlock.txt\", append=T)\n\"------------------------------------------------------------------\"\n\"Specific contrast: (Congruent within Nose condition)\"\nsummary(int2.nose)\nsink()\n\n\n\n\n\n\n\n\n\n\n# 2. Do spring analyses (use log transformed data)\n\n# (1) Omnibus ANOVA (FaceRace x WordValence x Fix)\n#change format to do ANOVA\n#different line for each value (so each variable has a column specifying which level of that variable\n#the value is for)\ns.wide= melt(tapply(spring$logRT, INDEX=list(spring$Fix, spring$FaceRace, spring$WordValence, spring$Subno), \n                    FUN= mean))\n\ns.wide = rename(s.wide, c(\"Var1\" = \"Fix\", \"Var2\" = \"FaceRace\", \n                          \"Var3\" = \"WordValence\", \"Var4\" = \"Subno\", \"value\" = \"logRT.mean\"))\n\n#for within subjects ANOVAs, SUBJECT HAS TO BE A FACTOR\ns.wide$Subno = as.factor(s.wide$Subno)\n\n# create anova model\ns.int <- aov(logRT.mean ~ (Fix*FaceRace*WordValence)+Error(Subno/(Fix*FaceRace*WordValence)), data = s.wide)\nsummary(s.int)  #displays Type 1 ANOVA, will be different from Type 3 ANOVA when unbalanced design\n\nsink(\"SpringANOVA_PrimingBlock.txt\", append=F)\n\"ANOVA of spring data (5.1.2015)\"\n\"Code in Analysis_combinedDat.R\"\n\"Includes all subjects, analysis done on log transformed RTs\"\n\"------------------------------------------------------------------\"\n\"OMNIBUS (FaceRace x WordValence x Fix)\"\nsummary(s.int)\nsink()\n",
    "created" : 1430497151459.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1366808123",
    "id" : "A9DF78DA",
    "lastKnownWriteTime" : 1430582835,
    "path" : "~/Documents/Projects/FYP/Data_spring2015/Analysis_combinedDat.R",
    "project_path" : "Analysis_combinedDat.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}